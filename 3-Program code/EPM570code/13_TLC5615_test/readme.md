–û—Ç–ª–∏—á–Ω–æ, –¥–µ–ª–∞—é **–¥–≤–∞ —Ç–µ–∫—Å—Ç–∞ —Å—Ä–∞–∑—É**:

1. **README.md –¥–ª—è GitHub** ‚Äì —Ñ–æ—Ä–º–∞–ª—å–Ω–æ, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏, —á—ë—Ç–∫–æ.
2. **–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è YouTube** ‚Äì –∫–æ—Ä–æ—Ç–∫–æ–µ, –ø–æ–Ω—è—Ç–Ω–æ–µ, —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.

–û–±–∞ —Ç–µ–∫—Å—Ç–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –ø—Ä–æ–µ–∫—Ç **CPLD_EPM240_570**.

---

# ‚úÖ **README.md (–≥–æ—Ç–æ–≤–æ –¥–ª—è GitHub)**

## **TLC5615 DAC + 4-–±–∏—Ç–Ω—ã–π –∞–Ω–∞–ª–æ–≥–æ–≤—ã–π —Ä–µ–≥—É–ª—è—Ç–æ—Ä –Ω–∞ CPLD EPM240 / EPM570**

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤–Ω–µ—à–Ω–µ–≥–æ –¶–ê–ü **TLC5615** —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å SPI,
—É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ —Å –ø–æ–º–æ—â—å—é –ø–ª–∞—Ç—ã **CPLD EPM240 / EPM570 Development Board**.
–í—ã—Ö–æ–¥–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ (0‚Ä¶~5 –í) —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è —á–µ—Ç—ã—Ä—å–º—è –ø–æ–ª–∑—É–Ω–∫–æ–≤—ã–º–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏ `ckey[1]..ckey[4]`.

---

## üîß **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ**

* –ü–ª–∞—Ç–∞: **Altera/Intel CPLD EPM240 / EPM570 Development Board**
* –¶–ê–ü: **TLC5615** (Texas Instruments)
* –ò—Å—Ç–æ—á–Ω–∏–∫ –æ–ø–æ—Ä–Ω–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è: **5 –í (Vref = 5.0 –í)**
* –ö–æ–º–º—É—Ç–∞—Ü–∏—è:

  * `da_clk` ‚Üí `PIN_26`
  * `da_cs`  ‚Üí `PIN_27`
  * `da_din` ‚Üí `PIN_21`
  * `ckey[1..4]` ‚Üí `PIN_53, PIN_52, PIN_51, PIN_50`

---

## üìÇ **–§–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞**

### **spidac.v**

–ú–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

### **1. –î–µ–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ç–∞–∫—Ç–∞**

50 –ú–ì—Ü (–∏–ª–∏ –¥—Ä—É–≥–æ–π –≤—Ö–æ–¥–Ω–æ–π) –¥–µ–ª–∏—Ç—Å—è –¥–æ —É–¥–æ–±–Ω–æ–π —á–∞—Å—Ç–æ—Ç—ã –¥–ª—è SPI (clk ‚Üí clkdiv2 ‚Üí clkdiv4).

### **2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª–∑—É–Ω–∫–æ–≤**

4 –±–∏—Ç–∞ —Å `ckey` —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ —á–∏—Å–ª–æ `0‚Ä¶15`.
–î–∞–ª–µ–µ –æ–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–æ 10-–±–∏—Ç–Ω–æ–≥–æ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∫–æ–¥–∞ –¶–ê–ü:

```
dac_value = level * 68    // –¥–∏–∞–ø–∞–∑–æ–Ω 0‚Ä¶1020 (‚âà –≤–µ—Å—å 10-–±–∏—Ç–Ω—ã–π)
```

–≠—Ç–æ –¥–∞—ë—Ç 16 –∞–Ω–∞–ª–æ–≥–æ–≤—ã—Ö —É—Ä–æ–≤–Ω–µ–π –æ—Ç –ø–æ—á—Ç–∏ 0 –í –¥–æ –ø–æ—á—Ç–∏ 5 –í.

### **3. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ 16-–±–∏—Ç–Ω–æ–≥–æ –∫–∞–¥—Ä–∞ TLC5615**

TLC5615 –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```
[15:12] ‚Äî don't care
[11:2]  ‚Äî D9..D0 (10-bit data)
[1:0]   ‚Äî don't care
```

–í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

```
shift_reg <= {4'b0000, dac_value, 2'b00};
```

### **4. SPI-–ø–µ—Ä–µ–¥–∞—á–∞**

FSM –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```
IDLE ‚Üí LOAD ‚Üí SEND (16 —Ç–∞–∫—Ç–æ–≤) ‚Üí DONE ‚Üí IDLE
```

–ü–µ—Ä–µ–¥–∞—á–∞ –∏–¥—ë—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, –æ–±–Ω–æ–≤–ª—è—è —É—Ä–æ–≤–µ–Ω—å –Ω–∞ –≤—ã—Ö–æ–¥–µ –¶–ê–ü –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## üìà **–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã**

* –ü—Ä–∏ `ckey = 0000` ‚Üí —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥ ‚âà 0 ‚Üí –≤—ã—Ö–æ–¥ ‚âà **0 –í**
* –ü—Ä–∏ `ckey = 1111` ‚Üí –∫–æ–¥ ‚âà 1020 ‚Üí –≤—ã—Ö–æ–¥ ‚âà **4.98‚Äì5.0 –í**
* –ú–µ–∂–¥—É –Ω–∏–º–∏ ‚Äì 16 —Å—Ç—É–ø–µ–Ω–µ–∫, —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É 0‚Ä¶5 –í.

–ò–∑–º–µ—Ä–µ–Ω–æ –º—É–ª—å—Ç–∏–º–µ—Ç—Ä–æ–º ‚Äì –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º—É Vref.

---

## üì∫ –í–∏–¥–µ–æ-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

–†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –ø–æ–ª–∑—É–Ω–∫–æ–≤ `ckey`, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –º—É–ª—å—Ç–∏–º–µ—Ç—Ä–æ–º –∏ —Ä–∞–∑–±–æ—Ä SPI-–∫–∞–¥—Ä–∞.

–ü–ª–µ–π–ª–∏—Å—Ç FPGA/CPLD:
[https://www.youtube.com/playlist?list=PLVoFIRfTAAI7-d_Yk6bNVnj4atUdMxvT5](https://www.youtube.com/playlist?list=PLVoFIRfTAAI7-d_Yk6bNVnj4atUdMxvT5)

---

## üì¶ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞

[https://github.com/AIDevelopersMonster/CPLD_EPM240_570](https://github.com/AIDevelopersMonster/CPLD_EPM240_570)

---