# Проект UART для CPLD EPM240/570

## Описание

Данный проект реализует коммуникацию UART (Universal Asynchronous Receiver-Transmitter) для работы с микроконтроллерами или другими устройствами, использующими стандарт RS232 для передачи и приема данных. Проект состоит из нескольких Verilog-модулей, которые обеспечивают передачу и прием данных через RS232 с различными скоростями передачи (baud rate).

Проект состоит из следующих ключевых модулей:

1. **`my_uart_top`** - Топ-уровневый модуль, который связывает все компоненты системы: модули приема и передачи данных, а также модули для генерации тактов с нужной частотой для передачи данных.
2. **`my_uart_rx`** - Модуль для приема данных по RS232. Этот модуль обрабатывает входящие данные, синхронизирует их с тактовым сигналом, генерирует прерывания и готовит данные для дальнейшей обработки.
3. **`my_uart_tx`** - Модуль для передачи данных по RS232. Он синхронизирует передачу данных и управляет состоянием линии передачи (TX).
4. **`speed_select`** - Модуль для генерации тактового сигнала с нужной частотой, соответствующей выбранной скорости передачи данных.

## Функциональность

Проект реализует полный процесс асинхронной передачи данных через RS232:

1. **Прием данных (RX)**:
   - Модуль `my_uart_rx` принимает данные по RS232, синхронизирует их с тактовым сигналом и генерирует сигнал прерывания для уведомления о начале приема данных.
   - После этого данные передаются в общий буфер для дальнейшей обработки.

2. **Передача данных (TX)**:
   - Модуль `my_uart_tx` управляет линией передачи данных (TX), начиная с отправки стартового бита, затем передачи данных по битам (от младшего к старшему) и завершает передачу стоповым битом.

3. **Генерация тактов**:
   - Модуль `speed_select` генерирует тактовый сигнал с заданной частотой (например, 9600bps, 19200bps и т.д.) для синхронизации передачи и приема данных.

## Схема подключения

Модули системы подключаются к следующими пинами на CPLD EPM240/570:

- **RS232 RX**: Пин для приема данных по RS232.
- **RS232 TX**: Пин для передачи данных по RS232.
- **Clk (50MHz)**: Входной тактовый сигнал (обычно 50 MHz).
- **RST_N**: Сигнал сброса, активный низкий.

## Параметры проекта

Скорости передачи данных могут быть изменены в модуле `speed_select` через изменение значений в директиве `define`:

- `BPS_PARA`: Параметр для скорости передачи 9600bps.
- `BPS_PARA_2`: Параметр для второй части делителя скорости передачи.

## Как тестировать

Для тестирования проекта рекомендуется выполнить следующие шаги:

1. **Симуляция**:
   - Используйте симулятор Verilog, например, ModelSim или Vivado, для симуляции работы всех модулей. Пример тестового набора может включать передачу последовательности данных по RS232 и проверку корректности приема.

2. **Аппаратное тестирование**:
   - После синтеза и загрузки проекта в CPLD EPM240/570, подключите плату к компьютеру или микроконтроллеру с использованием RS232.
   - Используйте программу терминала (например, PuTTY или Tera Term) для отправки и получения данных через последовательный порт.
   - Для тестирования можно отправить набор тестовых данных (например, ASCII символы) и проверить их правильность при получении.

3. **Логирование и отладка**:
   - Для более сложных тестов рекомендуется использовать осциллограф для мониторинга сигналов RX и TX на линии RS232.
   - Также полезно логировать данные с помощью микроконтроллера или компьютера, чтобы убедиться в правильности передачи и приема.

## Ссылки

- **GitHub Репозиторий**: [https://github.com/AIDevelopersMonster/CPLD_EPM240_570](https://github.com/AIDevelopersMonster/CPLD_EPM240_570)

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл LICENSE для получения подробной информации.
