üõ† –†–∞–∑–±–æ—Ä –°–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ "–û—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏"
–í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π Verilog, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å.

1. –î–∏—Ä–µ–∫—Ç–∏–≤–∞ `timescale
–í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ —Å—Ç–æ–∏—Ç `timescale 1ns / 1ps.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å: –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∞–ø–æ—Å—Ç—Ä–æ—Ñ (backtick) –ø–µ—Ä–µ–¥ —Å–ª–æ–≤–æ–º. –≠—Ç–æ –Ω–µ –æ–±—ã—á–Ω–∞—è –∫–∞–≤—ã—á–∫–∞. –≠—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É, –∞ –Ω–µ —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ —Å—Ö–µ–º—ã.

–ó–Ω–∞—á–µ–Ω–∏–µ: 1ns ‚Äî —ç—Ç–æ –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ (–µ—Å–ª–∏ –≤—ã –Ω–∞–ø–∏—à–µ—Ç–µ #5, —ç—Ç–æ –±—É–¥–µ—Ç 5 –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥). 1ps ‚Äî —ç—Ç–æ —Ç–æ—á–Ω–æ—Å—Ç—å (—Å–∏–º—É–ª—è—Ç–æ—Ä –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å –≤—Ä–µ–º—è —Å —à–∞–≥–æ–º –≤ 1 –ø–∏–∫–æ—Å–µ–∫—É–Ω–¥—É).

2. –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö wire (–ü—Ä–æ–≤–æ–¥)
Verilog

wire [7:0] rx_data;
–°–∏–Ω—Ç–∞–∫—Å–∏—Å: [7:0] –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç —à–∏–Ω—É (bus) —à–∏—Ä–∏–Ω–æ–π 8 –±–∏—Ç. –ò–Ω–¥–µ–∫—Å—ã –∏–¥—É—Ç –æ—Ç —Å—Ç–∞—Ä—à–µ–≥–æ (7) –∫ –º–ª–∞–¥—à–µ–º—É (0).

–°–º—ã—Å–ª: –í –º–æ–¥—É–ª–µ my_uart_top –Ω–µ—Ç –ª–æ–≥–∏–∫–∏ always –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ reg. –≠—Ç–æ—Ç –º–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–æ–ª—å –∫–æ–º–º—É—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏. –ü–æ—ç—Ç–æ–º—É –≤—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–∏–≥–Ω–∞–ª—ã –æ–±—ä—è–≤–ª–µ–Ω—ã –∫–∞–∫ wire. –û–Ω–∏ –ø—Ä–æ—Å—Ç–æ —Å–æ–µ–¥–∏–Ω—è—é—Ç –≤—ã—Ö–æ–¥ –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, my_uart_rx) —Å–æ –≤—Ö–æ–¥–æ–º –¥—Ä—É–≥–æ–≥–æ (my_uart_tx).

3. –≠–∫–∑–µ–º–ø–ª—è—Ä–∏–∑–∞—Ü–∏—è (Instantiation) –ø–æ –∏–º–µ–Ω–∏
–≠—Ç–æ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å "–æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏" –≤ –¥–∞–Ω–Ω–æ–º –∫–æ–¥–µ. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –±–ª–æ–∫:

Verilog

my_uart_rx  my_uart_rx_inst (  // <–¢–∏–ø –º–æ–¥—É–ª—è> <–ò–º—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞>
    .port_name(signal_name),   // .–∏–º—è_–ø–æ—Ä—Ç–∞_–≤–Ω—É—Ç—Ä–∏_–º–æ–¥—É–ª—è (–∏–º—è_–ø—Ä–æ–≤–æ–¥–∞_—Å–Ω–∞—Ä—É–∂–∏)
    ...
);
–¢–æ—á–∫–∞ (.): –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏ –ø–æ–¥–∫–ª—é—á–∞–µ–º–æ–≥–æ –º–æ–¥—É–ª—è (–∫–∞–∫ –æ–Ω –Ω–∞–∑–≤–∞–Ω –≤ —Ñ–∞–π–ª–µ my_uart_rx.v).

–°–∫–æ–±–∫–∏ (): –£–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Å–∏–≥–Ω–∞–ª –≤ —Ç–µ–∫—É—â–µ–º —Ñ–∞–π–ª–µ (my_uart_top.v), –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø–æ–¥–∫–ª—é—á–∞–µ–º –∫ —ç—Ç–æ–º—É –ø–æ—Ä—Ç—É.

–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ: –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è Explicit Port Mapping (–Ø–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ). –≠—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è "—Ö–æ—Ä–æ—à–∏–º —Ç–æ–Ω–æ–º" (Best Practice). –î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –ø–æ–º–µ–Ω—è–µ—Ç–µ –º–µ—Å—Ç–∞–º–∏ —Å—Ç—Ä–æ–∫–∏, —Å—Ö–µ–º–∞ —Å–æ–±–µ—Ä–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã —è–≤–Ω–æ —É–∫–∞–∑–∞–ª–∏, —á—Ç–æ –∫ —á–µ–º—É –ø–æ–¥–∫–ª—é—á–∞—Ç—å.

4. –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è (Naming Convention)
–°—É—Ñ—Ñ–∏–∫—Å _n: –í rst_n –±—É–∫–≤–∞ n (–∏–ª–∏ –∏–Ω–æ–≥–¥–∞ _b) –æ–∑–Ω–∞—á–∞–µ—Ç Negative (–∏–Ω–≤–µ—Ä—Å–Ω—ã–π/–∞–∫—Ç–∏–≤–Ω—ã–π –Ω–∏–∑–∫–∏–π).

–ï—Å–ª–∏ rst_n = 0 -> –°—Ö–µ–º–∞ –≤ —Å–±—Ä–æ—Å–µ (Reset).

–ï—Å–ª–∏ rst_n = 1 -> –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç.

–≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–π —Å—Ö–µ–º–æ—Ç–µ—Ö–Ω–∏–∫–µ, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–∏–≥–≥–µ—Ä—ã —á–∞—Å—Ç–æ –∏–º–µ—é—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–±—Ä–æ—Å –ø–æ –Ω–∏–∑–∫–æ–º—É —É—Ä–æ–≤–Ω—é.

–°—É—Ñ—Ñ–∏–∫—Å _inst: –ß–∞—Å—Ç–æ –∫ –∏–º–µ–Ω–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –¥–æ–±–∞–≤–ª—è—é—Ç _inst –∏–ª–∏ _u0, —á—Ç–æ–±—ã –æ—Ç–ª–∏—á–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞ –æ—Ç –∏–º–µ–Ω–∏ –∫–æ–ø–∏–∏. –í –≤–∞—à–µ–º –∫–æ–¥–µ –∏–º—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∏–º–µ–Ω–µ–º –º–æ–¥—É–ª—è (my_uart_rx my_uart_rx), —á—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º–æ –≤ Verilog, –Ω–æ –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ø—É—Ç–∞—Ç—å. –õ—É—á—à–µ –±—ã–ª–æ –±—ã: my_uart_rx u_rx (...).

5. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ always –±–ª–æ–∫–æ–≤
–ó–∞–º–µ—Ç—å—Ç–µ, –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ –Ω–µ—Ç –±–ª–æ–∫–æ–≤ always @(...).

–ü–æ—á–µ–º—É? –ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ —Ç–æ–ø-—É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞. –û–Ω –Ω–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–∫–∞–∫ –º–µ–Ω—è—Ç—å –±–∏—Ç—ã), –æ–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–∫–∞–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω—ã –±–ª–æ–∫–∏). –í—Å—è –ª–æ–≥–∏–∫–∞ —Å–ø—Ä—è—Ç–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ speed_select, my_uart_rx –∏ my_uart_tx.

–•–æ—Ç–∏—Ç–µ –ª–∏ –≤—ã, —á—Ç–æ–±—ã —è —Ä–∞–∑–æ–±—Ä–∞–ª –∫–æ–¥ –æ–¥–Ω–æ–≥–æ –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, speed_select –∏–ª–∏ my_uart_rx), –µ—Å–ª–∏ –æ–Ω —É –≤–∞—Å –µ—Å—Ç—å?