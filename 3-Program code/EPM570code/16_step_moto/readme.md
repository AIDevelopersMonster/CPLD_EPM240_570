
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–≥–æ–≤—ã–º –¥–≤–∏–≥–∞—Ç–µ–ª–µ–º ‚Äî CPLD EPM240 / EPM570

–î–∞–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 4‚Äë—Ñ–∞–∑–Ω—ã–º —à–∞–≥–æ–≤—ã–º –¥–≤–∏–≥–∞—Ç–µ–ª–µ–º  
—Å –ø–æ–º–æ—â—å—é –ø–ª–∞—Ç—ã **EPM240 / EPM570 CPLD Development Board**.

–ú–æ–¥—É–ª—å `step_moto.v` –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

- –¥–µ–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ç–∞–∫—Ç–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ `clk` –¥–æ —á–∞—Å—Ç–æ—Ç—ã —à–∞–≥–∞;
- —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ 8‚Äë—à–∞–≥–æ–≤–æ–π (–ø–æ–ª—É—à–∞–≥–æ–≤–æ–π) –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è `StepDrive[3:0]`;
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤—Ä–∞—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ `Dir`;
- –∑–∞–ø—É—Å–∫ / –æ—Å—Ç–∞–Ω–æ–≤–∫—É –≤—Ä–∞—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ `StepEnable`;
- –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–±—Ä–æ—Å –ª–æ–≥–∏–∫–∏ —á–µ—Ä–µ–∑ `rst` (–∞–∫—Ç–∏–≤–Ω—ã–π –Ω–∏–∑–∫–∏–π).

---

## ‚öôÔ∏è –ü–æ—Ä—Ç—ã –º–æ–¥—É–ª—è

```
module step_moto (
    output [3:0] StepDrive, // —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –¥—Ä–∞–π–≤–µ—Ä –æ–±–º–æ—Ç–æ–∫
    input        clk,       // —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–∫—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª (50 –ú–ì—Ü)
    input        Dir,       // –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—â–µ–Ω–∏—è
    input        StepEnable,// –∑–∞–ø—É—Å–∫ / —Å—Ç–æ–ø
    input        rst        // —Å–±—Ä–æ—Å (–∞–∫—Ç–∏–≤–Ω—ã–π 0)
);
```

**StepDrive[3:0]** ‚Äî –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –¥—Ä–∞–π–≤–µ—Ä—É: ULN2003, L298, —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã –∏ —Ç.–ø.  
**Dir** ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—â–µ–Ω–∏—è (1 ‚Äî –≤–ø–µ—Ä—ë–¥, 0 ‚Äî –Ω–∞–∑–∞–¥).  
**StepEnable** ‚Äî —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤—Ä–∞—â–µ–Ω–∏—è.  
**rst** ‚Äî —Å–±—Ä–æ—Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤.

---

## üîß –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

- –ü–ª–∞—Ç–∞: **CPLD EPM240 / EPM570 Development Board**
- –î—Ä–∞–π–≤–µ—Ä –º–æ—Ç–æ—Ä–∞: **ULN2003**, **L298**, –ª–∏–±–æ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã
- –®–∞–≥–æ–≤—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å: 4‚Äë—Ñ–∞–∑–Ω—ã–π (—É–Ω–∏–ø–æ–ª—è—Ä–Ω—ã–π/–±–∏–ø–æ–ª—è—Ä–Ω—ã–π)
- –ß–∞—Å—Ç–æ—Ç–∞ `clk`: –æ–∫–æ–ª–æ 50 –ú–ì—Ü

---

## ‚è± –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏

–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–¥–∞—ë—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º:

```
parameter [31:0] StepLockOut = 32'd200000;
```

–ü—Ä–∏ —á–∞—Å—Ç–æ—Ç–µ 50 –ú–ì—Ü:

```
f_step ‚âà 50 000 000 / StepLockOut
```

- **–º–µ–Ω—å—à–µ StepLockOut ‚Üí –±—ã—Å—Ç—Ä–µ–µ –≤—Ä–∞—â–µ–Ω–∏–µ**,  
- **–±–æ–ª—å—à–µ StepLockOut ‚Üí –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–æ –Ω–∞–¥—ë–∂–Ω–µ–µ**.

---

## üìå –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–í–Ω—É—Ç—Ä–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ `StepCounter`, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π –ø–µ—Ä–∏–æ–¥ —à–∞–≥–æ–≤.  
–ö–∞–∂–¥—ã–π –ø–µ—Ä–∏–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è `state`, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç  
—à–∞–±–ª–æ–Ω –Ω–∞ `StepDrive[3:0]`.

–ü–æ–ª—É—à–∞–≥–æ–≤—ã–π —Ä–µ–∂–∏–º (8 —Å–æ—Å—Ç–æ—è–Ω–∏–π) –¥–∞—ë—Ç –ø–ª–∞–≤–Ω—ã–π —Ö–æ–¥ –∏ —É–¥–≤–æ–µ–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.

---

## üìÇ –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

- **step_moto.v** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–≥–æ–≤—ã–º –¥–≤–∏–≥–∞—Ç–µ–ª–µ–º.
- **top.bdf** ‚Äî –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞ Quartus).
- **pinout.qsf** ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–≤–æ–¥–æ–≤ CPLD.
- **README.md** ‚Äî –¥–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.

---

## üì∫ –í–∏–¥–µ–æ‚Äë–æ–±–∑–æ—Ä (–æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è YouTube)

–í –≤–∏–¥–µ–æ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–≥–æ–≤—ã–º –¥–≤–∏–≥–∞—Ç–µ–ª–µ–º  
–Ω–∞ CPLD‚Äë–ø–ª–∞—Ç–µ EPM240/EPM570:

- –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∞—Å—Ç–æ—Ç—ã —à–∞–≥–æ–≤;
- –ø–æ–ª—É—à–∞–≥–æ–≤—ã–π —Ä–µ–∂–∏–º (8 —Å–æ—Å—Ç–æ—è–Ω–∏–π);
- –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ –¥—Ä–∞–π–≤–µ—Ä ULN2003 / L298;
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –¥–≤–∏–≥–∞—Ç–µ–ª—è;
- –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä StepLockOut.

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞:  
https://github.com/AIDevelopersMonster/CPLD_EPM240_570

–ü–ª–µ–π–ª–∏—Å—Ç FPGA/CPLD:  
https://www.youtube.com/playlist?list=PLVoFIRfTAAI7-d_Yk6bNVnj4atUdMxvT5

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –≤–∞—Ä–∏–∞–Ω—Ç —Å:
- –ø–æ–ª–Ω—ã–º —à–∞–≥–æ–º,
- –º–∏–∫—Ä–æ—à–∞–≥–∞–º–∏,
- –ø–ª–∞–≤–Ω—ã–º —Ä–∞–∑–≥–æ–Ω–æ–º/—Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ–º,

–º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –º–æ–¥—É–ª—å.
